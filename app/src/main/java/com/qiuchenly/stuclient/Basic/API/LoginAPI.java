package com.qiuchenly.stuclient.Basic.API;

import com.google.gson.Gson;
import com.qiuchenly.stuclient.Basic.API.HttpResponseUtils.loginRes;
import com.qiuchenly.stuclient.Basic.API.HttpResponseUtils.sendMsgRes;
import com.qiuchenly.stuclient.Basic.API.HttpResponseUtils.submitPhoneNum;
import com.qiuchenly.stuclient.Basic.httpClient.ResponseData;
import com.qiuchenly.stuclient.Basic.httpClient.httpClient;

import java.io.IOException;

/**
 * Author : QiuChenLy
 * Date    : ${DATA}
 * Func    : null
 * LastEdit: ${DATA}
 */

public class LoginAPI {
    final private String appKey = "GiITvn";

    final private String UUID = "";//cfd9a45093cd6140 fbd4e14aa6bd7a7d 通过修改此数据可以实现同设备无限登录账号
    final private String schoolId = "194";

    private sendMsgRes MsgResloginRes;

    private String token = "";
    protected com.qiuchenly.stuclient.Basic.API.HttpResponseUtils.loginRes loginRes;

    public String getToken() {
        return token;
    }

    public void setToken(String token) {
        this.token = token;
    }

    /**
     * 使用APP接口的登录学院。
     *
     * @param user
     * @param pass
     */
    public void loginH5(String user, String pass, LoginResult result) {
        String url = "http://app.jsahvc.edu.cn/baseCampus/login/login.do";
        String CurrentMillis = String.valueOf(System.currentTimeMillis());
        String data = "{\"appKey\":\"" + appKey + "\",\"param\":\"{\\\"userName\\\"" +
                ":\\\"" + user + "\\\",\\\"password\\\":\\\"" + pass + "\\\",\\\"uuId\\\":" +
                "\\\"" + UUID + "\\\",\\\"schoolId\\\":\\\"" + schoolId + "\\\"}\"," +
                "\"time\":" + CurrentMillis + ",\"secure\":0,\"sign\":\"" + getSign(CurrentMillis, user, pass) + "\"}";
        ResponseData res = null;
        try {
            res = httpClient.Request(url, 1, data, httpClient.cookies, "Content-Type: application/json;charset=UTF-8", 10000, 10000, false);
        } catch (IOException e) {
            e.printStackTrace();
        }
        if (res.responseCode == 200) {
            //MsgState=2 表示用户名不存在
            //state=100004 需要激活绑定手机
            String ss = res.responseText;
            loginRes = resolveJson(ss, loginRes.class);
            switch (loginRes.msgState) {
                case 1:
                    this.token = loginRes.token[0] + "_" + loginRes.token[1];
                    result.onSuccess(loginRes.userBaseInfo.realName, loginRes.msgState, getToken());
                    break;
                case 2:
                    result.onFailed("登录结果：" + loginRes.msg);
                    break;
                case 100004:
                    result.onSuccess(loginRes.userBaseInfo.realName, loginRes.msgState, "");
                    break;
                default:
                    //默认需要加上 default
                    break;
            }
        } else {
            result.onFailed("连接服务器失败！服务器返回代码：" + res.responseCode);
        }
    }

    public void sendSMS(String phoneNum, Processresult processresult) {
        String url = "http://app.jsahvc.edu.cn/baseCampus/password/getMobileRandomKey.do";
        String currentMillis = System.currentTimeMillis() + "";
        String data = "{\"appKey\":\"" + appKey + "\",\"param\":\"{\\\"min\\\":5,\\\"identification\\\":2," +
                "\\\"userName\\\":\\\"" + loginRes.userLoginInfo.userName + "\\\",\\\"mobile\\\":\\\"" + phoneNum + "\\\",\\\"schoolId" +
                "\\\":" + schoolId + "}\",\"time\":" + currentMillis + ",\"secure\":0,\"" +
                "sign\":\"" + getSign_SendMsg(phoneNum, currentMillis, loginRes.userLoginInfo.userName) + "\"}";
        try {
            ResponseData res = httpClient.Request(url, 1, data, httpClient.cookies, "Content-Type: application/json;charset=UTF-8", 10000, 10000, false);
            if (res.responseCode == 200) {
                String ss = res.responseText;
                MsgResloginRes = resolveJson(ss, sendMsgRes.class);
                if (loginRes.msgState == 1) {
                    processresult.onSuccess(MsgResloginRes.randomKey);
                } else {
                    processresult.onFailed();
                }
            } else {
                processresult.onFailed();
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    com.qiuchenly.stuclient.Basic.API.HttpResponseUtils.submitPhoneNum submitPhoneNum;

    /**
     * 提交手机号码
     *
     * @param phoneNum 手机号码
     */
    void submitRandomKey(String phoneNum) {
        String currentMillis = System.currentTimeMillis() + "";
        String url = "http://app.jsahvc.edu.cn/baseCampus/password/backPwdMobile.do ";
        String data = "{\"appKey\":\"" + appKey + "\",\"param\":\"{\\\"phone\\\":\\\"" + phoneNum + "\\\",\\\"" +
                "username\\\":\\\"" + loginRes.userLoginInfo.userName + "\\\",\\\"randomKey\\\":" + MsgResloginRes.randomKey + ",\\\"uuid\\\":\\\"fbd4e14aa6bd7a7d\\\",\\\"schoolId\\\":" + schoolId + "}\",\"time\":" + currentMillis + ",\"secure\":0,\"sign\":\"" + utils.md5("appKey=" + appKey + "&param={\"phone\":\"" + phoneNum + "\",\"username\":\"" + loginRes.userLoginInfo.userName + "\",\"randomKey\":" + MsgResloginRes.randomKey + ",\"uuid\":\"fbd4e14aa6bd7a7d\",\"schoolId\":" + schoolId + "}&secure=0&time=" + currentMillis) + "\"}";
        //Sign算法：appKey=GiITvn&param={"phone":"18888888888","username":"201513043","randomKey":368969,"uuid":"fbd4e14aa6bd7a7d","schoolId":194}&secure=0&time=1504950564719
        //Content-Type: application/json;charset=UTF-8
        ResponseData res = null;
        try {
            res = httpClient.Request(url, 1, data, httpClient.cookies, "Content-Type: application/json;charset=UTF-8", 10000, 10000, false);

        } catch (IOException e) {
            e.printStackTrace();
        }
        if (res.responseCode == 200) {
            String ss = res.responseText;
            submitPhoneNum = resolveJson(ss, submitPhoneNum.class);
//                if (submitPhoneNum.msgState == 1) {
//                    processresult.onSuccess(MsgResloginRes.randomKey);
//                } else {
//                    processresult.onFailed();
//                }
        } else {

        }
        //ret
        //{"acceptSecure":null,"curSchoolId":0,"msg":null,"msgState":1,"secure":0,"time":0,"token":"312151700_ey2ck5FMjLlb3cXdzcAONsAGz83OzS3T3ZNQk5OlmJq2m9363c3PzsrPxsAyzs7d092cio2snJhQkJO2m936zsbL092baomWjJlQkblb3cXP092lkpFWk9363c3PzsrOzMALzLBVjJFXiZzRmpuK0ZNR3dPdmY2QkS36z9PdapGZkLlb3cXP092WjLNQkZmWjZLdxcAT3ZOQmJlRq5ltmS36zsrPN8bKz8rLxsrLN9PdkZlcaLGhkprdxd3d092Pa5CRmS363d3T3YBWm9363czyz8byN87GxsjPN87JzcbOp93T3Y2lnpOxnpKl3cXd6mZ3GH62Gap43dPdjZCTmS36x9Pdi4mqjJqySpvdxcAT3YqRaovdxd3yz87Kz8bPzc7O3dPdioNljblb3cXOxsvOzsnJNSPdioNljbGhkprdxd3yz87KzszPN8zd092Ie4qMmo2Wm9363c3PzsrOzMALzy2C","userInfo":{"attrs":null,"childUserId":null,"classId":null,"collegeId":null,"collegeName":null,"divisionId":0,"divisionName":null,"domainId":0,"domainName":null,"dqztm":0,"groupIds":null,"headImage":null,"inOffice":0,"inviteCode":null,"jg":null,"mark":null,"menuIdList":null,"menuName":null,"menuid":0,"mobile":null,"mobileList":null,"mobileSecret":0,"msgrtags":null,"mzmc":null,"netId":null,"note":null,"oauthID":null,"officeId":0,"officeName":null,"password":"","pid":null,"publishDomain":1,"publishOffice":1,"pwdFlag":0,"qq":null,"realName":"","regMail":null,"rfid":null,"role":0,"schoolId":0,"sex":0,"sznj":0,"tel":null,"userAppIndex":null,"userId":19411665,"userName":"201513043","weixinId":null,"wxflag":0,"xgh":null,"xqah":null,"yxmc":null,"zymc":null}}
    }

    String chars = "abcdefghijklmnopgrstuvwxyz";

    String getUUID(String uuids) {
        if (uuids.length() == 16) {
            return uuids;
        } else {
            int a = (int) (Math.random() * 10);
            uuids += (a <= 4 ? chars.charAt(a) + "" : a);
            return getUUID(uuids);
        }
    }

    String getUUID_for() {
        String uuids = "";
        for (int a = 0; a <= 16; a++) {
            int b = (int) (Math.random() * 10);
            uuids += (b <= 4 ? chars.charAt(b) + "" : b);
        }
        return uuids;
    }


    /**
     * 快速登陆APP
     *
     * @param loginResult
     */
    public void skipLogin(LoginResult loginResult) {
        long currentMillis = System.currentTimeMillis();
        String url = "http://app.jsahvc.edu.cn/baseCampus/login/skipLogin.do";
        String data = "{\"appKey\":\"" + appKey + "\",\"param\":\"{\\\"uuId\\\":\\\"" + UUID + "\\\"}\",\"time\":" + currentMillis + ",\"secure\":0,\"sign\":\"" + utils.md5("appKey=" + appKey + "&param={\"uuId\":\"" + UUID + "\"}&secure=0&time=" + currentMillis) + "\"}";
        String RequestHeader = "token: " + token + "\n" +
                "Content-Type: application/json;charset=UTF-8\n";

        ResponseData res = null;
        try {
            res = httpClient.Request(url, 1, data, httpClient.cookies, RequestHeader, 10000, 10000, false);

        } catch (IOException e) {
            e.printStackTrace();
        }

         loginRes = resolveJson(res.responseText, loginRes.class);
        if (loginRes.msgState == 1) {
            this.token = loginRes.token[0] + "_" + loginRes.token[1];
            loginResult.onSuccess(loginRes.userBaseInfo.realName, 1, this.token);
        } else {
            loginResult.onFailed("快速登录失败!请重新登录");
        }
        //Sign算法：appKey=GiITvn&param={"uuId":"fbd4e14aa6bd7a7d"}&secure=0&time=1504950564806
        //retMsg
        //{"acceptSecure":null,"appInfoList":[{"appAlert":null,"appId":2,"appSeq":6,"appType":3,"brief":"","child":0,"color":"","configurations":[{"appId":2,"keyName":"isJunior","type":1,"value":"1"}],"controller":"NoticeMainCtrl","controllerAs":"nm","defaultPage":2,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":"校园信息组","i18n":"","icon":"fa fa-bullhorn i-icon-bullhorn","imageList":null,"integrate":1,"mainJsUrl":"parts/notice/main.js","mgrVisitUrl":"/notice","mgrVisitUrlType":"ng","name":"消息","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"校园通知可见","privilege":1,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"可在移动端发送通知","privilege":0,"sequence":2},{"appId":0,"child":null,"hidden":0,"id":0,"name":"可直接显示通知组","privilege":0,"sequence":3},{"appId":0,"child":null,"hidden":0,"id":0,"name":"显示个人通知","privilege":1,"sequence":4}],"pubTime":null,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"0","templateUrl":"parts/notice/notice.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/notice"},{"appAlert":null,"appId":3,"appSeq":17,"appType":3,"brief":"","child":0,"color":"font-color1","configurations":null,"controller":"NewsListCtrl","controllerAs":"nc","defaultPage":1,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-news","imageList":null,"integrate":1,"mainJsUrl":"parts/news/main.js","mgrVisitUrl":"/news","mgrVisitUrlType":null,"name":"新闻公告","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"新闻资讯可访问","privilege":1,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"新闻订阅可操作","privilege":1,"sequence":2}],"pubTime":null,"reloadOnSearch":false,"removeable":0,"routeUrl":"","ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/news/news.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/news"},{"appAlert":null,"appId":4,"appSeq":11,"appType":1,"brief":"","child":0,"color":"font-color1","configurations":null,"controller":"CalendarCtrl","controllerAs":"","defaultPage":1,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-schedule","imageList":null,"integrate":1,"mainJsUrl":"parts/calendar/main.js","mgrVisitUrl":"/calendar","mgrVisitUrlType":null,"name":"日程","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"日程课表可访问","privilege":1,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"工作日程可见","privilege":0,"sequence":2},{"appId":0,"child":null,"hidden":0,"id":0,"name":"课程可见","privilege":0,"sequence":3},{"appId":0,"child":null,"hidden":0,"id":0,"name":"可进行日程管理","privilege":0,"sequence":4},{"appId":0,"child":null,"hidden":0,"id":0,"name":"可进行部门日程管理","privilege":0,"sequence":5},{"appId":0,"child":null,"hidden":0,"id":0,"name":"可查看招聘日程","privilege":0,"sequence":6},{"appId":0,"child":null,"hidden":0,"id":0,"name":"可查看学术活动日程","privilege":0,"sequence":7},{"appId":0,"child":null,"hidden":0,"id":0,"name":"可管理学术活动日程","privilege":0,"sequence":8}],"pubTime":null,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/calendar/calendar.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/calendar"},{"appAlert":null,"appId":5,"appSeq":12,"appType":3,"brief":"啊哈哈","child":0,"color":"font-color3","configurations":[{"appId":5,"keyName":"isHide3DSwitch","type":1,"value":"true"}],"controller":"MapCtrl","controllerAs":"","defaultPage":3,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"I18N.APP_LIST.MapCtrl","icon":"mc-icon-school-map","imageList":null,"integrate":1,"mainJsUrl":"parts/map/main.js","mgrVisitUrl":"/map","mgrVisitUrlType":null,"name":"校园地图","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"校园地图可访问","privilege":1,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"建筑层可见","privilege":0,"sequence":2},{"appId":0,"child":null,"hidden":0,"id":0,"name":"自定义层可见","privilege":0,"sequence":3}],"pubTime":null,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/map/map.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/map"},{"appAlert":null,"appId":6,"appSeq":31,"appType":4,"brief":"","child":0,"color":"font-color3","configurations":null,"controller":"OucMailCtrl","controllerAs":"mail","defaultPage":3,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-work-email","imageList":null,"integrate":1,"mainJsUrl":"parts/oucMail/main.js","mgrVisitUrl":"/mail","mgrVisitUrlType":null,"name":"邮箱","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"邮箱可见","privilege":0,"sequence":1}],"pubTime":null,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":null,"templateUrl":"parts/oucMail/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/mail"},{"appAlert":null,"appId":7,"appSeq":36,"appType":4,"brief":"","child":0,"color":"font-color3","configurations":null,"controller":"ScientificResearchCtrl","controllerAs":"sr","defaultPage":1,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"","icon":"home-icon-atom","imageList":null,"integrate":1,"mainJsUrl":"parts/scientificResearch/main.js","mgrVisitUrl":"/scientificResearch","mgrVisitUrlType":null,"name":"科研信息","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"科研信息可访问","privilege":0,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"科研成果可访问","privilege":0,"sequence":2},{"appId":0,"child":null,"hidden":0,"id":0,"name":"科研项目可访问","privilege":0,"sequence":3}],"pubTime":null,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/scientificResearch/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/scientificResearch"},{"appAlert":null,"appId":9,"appSeq":23,"appType":4,"brief":"","child":0,"color":"font-color4","configurations":null,"controller":"JobsCtrl","controllerAs":"jl","defaultPage":1,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":"","i18n":"","icon":"mc-icon-invite-circle","imageList":null,"integrate":1,"mainJsUrl":"parts/jobs/main.js","mgrVisitUrl":"/jobs","mgrVisitUrlType":null,"name":"就业招聘","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"就业招聘可访问","privilege":1,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"可编辑","privilege":0,"sequence":2}],"pubTime":null,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/jobs/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/jobs"},{"appAlert":null,"appId":10,"appSeq":32,"appType":4,"brief":"一卡通(兰途内置)","child":0,"color":"","configurations":null,"controller":"PlayCampusCtrl","controllerAs":"","defaultPage":1,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-one-card","imageList":null,"integrate":1,"mainJsUrl":"parts/playCampus/main.js","mgrVisitUrl":"/playCampus","mgrVisitUrlType":null,"name":"一卡通","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"一卡通可访问","privilege":1,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"消费明细","privilege":1,"sequence":2},{"appId":0,"child":null,"hidden":0,"id":0,"name":"充值明细","privilege":1,"sequence":3},{"appId":0,"child":null,"hidden":0,"id":0,"name":"交易明细","privilege":1,"sequence":4},{"appId":0,"child":null,"hidden":0,"id":0,"name":"领款明细","privilege":0,"sequence":5},{"appId":0,"child":null,"hidden":0,"id":0,"name":"缴费明细","privilege":0,"sequence":6},{"appId":0,"child":null,"hidden":0,"id":0,"name":"充值","privilege":0,"sequence":7},{"appId":0,"child":null,"hidden":0,"id":0,"name":"挂失","privilege":0,"sequence":8},{"appId":0,"child":null,"hidden":0,"id":0,"name":"查看拥挤度","privilege":0,"sequence":9}],"pubTime":null,"reloadOnSearch":true,"removeable":0,"routeUrl":"","ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/playCampus/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/playCampus"},{"appAlert":null,"appId":13,"appSeq":19,"appType":4,"brief":"","child":0,"color":"font-color4","configurations":null,"controller":"SchoolViewCtrl","controllerAs":"svc","defaultPage":1,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-school-scenery","imageList":null,"integrate":1,"mainJsUrl":"parts/school/main.js","mgrVisitUrl":"/school","mgrVisitUrlType":null,"name":"校园风光","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"校园风光可访问","privilege":1,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"审核","privilege":0,"sequence":2},{"appId":0,"child":null,"hidden":0,"id":0,"name":"校园风光可上传","privilege":1,"sequence":3}],"pubTime":null,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/school/school.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/school"},{"appAlert":null,"appId":14,"appSeq":57,"appType":4,"brief":"","child":0,"color":"font-color4","configurations":null,"controller":"StatisticCtrl","controllerAs":"","defaultPage":3,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-statistics","imageList":null,"integrate":1,"mainJsUrl":"parts/statistic/main.js","mgrVisitUrl":"/statistic","mgrVisitUrlType":null,"name":"校情统计","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"校情统计可访问","privilege":0,"sequence":1}],"pubTime":null,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":null,"templateUrl":"parts/statistic/statistic.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/statistic"},{"appAlert":null,"appId":15,"appSeq":34,"appType":4,"brief":"","child":0,"color":"font-color4","configurations":null,"controller":"LibraryCtrl","controllerAs":"","defaultPage":3,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"I18N.APP_LIST.LibraryCtrl","icon":"mc-icon-library","imageList":null,"integrate":1,"mainJsUrl":"parts/library/main.js","mgrVisitUrl":"/library","mgrVisitUrlType":null,"name":"图书馆","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"图书馆可访问","privilege":1,"sequence":1}],"pubTime":null,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":null,"templateUrl":"parts/library/library.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/library"},{"appAlert":null,"appId":20,"appSeq":7,"appType":4,"brief":"","child":0,"color":"","configurations":null,"controller":"ResponseCtrl","controllerAs":"fb","defaultPage":9,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"","icon":"fa fa-edit i-icon-edit","imageList":null,"integrate":1,"mainJsUrl":"parts/response/main.js","mgrVisitUrl":"/response","mgrVisitUrlType":"ng","name":"APP反馈","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"反馈留言可见","privilege":1,"sequence":1}],"pubTime":null,"reloadOnSearch":false,"removeable":1,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"0","templateUrl":"parts/response/responseList.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/response"},{"appAlert":null,"appId":21,"appSeq":25,"appType":4,"brief":"33","child":0,"color":"","configurations":null,"controller":"SmsCtrl","controllerAs":"sms","defaultPage":8,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":"校园信息组","i18n":"","icon":"fa fa-comments-o i-icon-sms","imageList":null,"integrate":1,"mainJsUrl":"parts/sms/main.js","mgrVisitUrl":"/sms","mgrVisitUrlType":null,"name":"校内短信","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"校内短信可访问","privilege":1,"sequence":1}],"pubTime":null,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"0","templateUrl":"parts/sms/sms.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/sms"},{"appAlert":null,"appId":22,"appSeq":38,"appType":4,"brief":"","child":0,"color":"font-color1","configurations":[{"appId":22,"keyName":"isOnlyStudent","type":1,"value":"1"}],"controller":"PersonnelInfoCtrl","controllerAs":"pi","defaultPage":1,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-personal","imageList":null,"integrate":1,"mainJsUrl":"parts/personnelInfo/main.js","mgrVisitUrl":"/personnelInfo","mgrVisitUrlType":null,"name":"人员信息","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"人员信息可访问","privilege":1,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"找人可访问","privilege":0,"sequence":2},{"appId":0,"child":null,"hidden":0,"id":0,"name":"办事指南可访问","privilege":0,"sequence":3},{"appId":0,"child":null,"hidden":0,"id":0,"name":"本科生查询可访问","privilege":0,"sequence":4},{"appId":0,"child":null,"hidden":0,"id":0,"name":"研究生查询可访问","privilege":0,"sequence":5},{"appId":0,"child":null,"hidden":0,"id":0,"name":"教职工查询可访问","privilege":0,"sequence":6},{"appId":0,"child":null,"hidden":0,"id":0,"name":"不显示本人关键信息","privilege":0,"sequence":7},{"appId":0,"child":null,"hidden":0,"id":0,"name":"查看本科生详情","privilege":0,"sequence":8},{"appId":0,"child":null,"hidden":0,"id":0,"name":"查看研究生详情","privilege":0,"sequence":9},{"appId":0,"child":null,"hidden":0,"id":0,"name":"查看教职工详情","privilege":0,"sequence":10}],"pubTime":null,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/personnelInfo/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/personnelInfo"},{"appAlert":null,"appId":23,"appSeq":2,"appType":4,"brief":"2","child":0,"color":"font-color3","configurations":null,"controller":"AboutCtrl","controllerAs":"","defaultPage":9,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"","icon":"fa fa-info-circle i-icon-info","imageList":null,"integrate":1,"mainJsUrl":"parts/about/main.js","mgrVisitUrl":"/about","mgrVisitUrlType":null,"name":"关于","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"关于可访问","privilege":1,"sequence":1}],"pubTime":null,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"001","templateUrl":"parts/about/about.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/about"},{"appAlert":null,"appId":28,"appSeq":39,"appType":2,"brief":"","child":0,"color":"font-color4","configurations":null,"controller":"schoolTimetableMainCtrl","controllerAs":"","defaultPage":1,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-school-time-table","imageList":null,"integrate":1,"mainJsUrl":"parts/schoolTimetable/main.js","mgrVisitUrl":"/timetable","mgrVisitUrlType":null,"name":"课程表","needLogin":1,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"课程表可见","privilege":1,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"本科生课程表获取","privilege":1,"sequence":2},{"appId":0,"child":null,"hidden":0,"id":0,"name":"教职工课程表获取","privilege":0,"sequence":3},{"appId":0,"child":null,"hidden":0,"id":0,"name":"研究生课程表获取","privilege":0,"sequence":4}],"pubTime":null,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/schoolTimetable/schoolTimetable.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/timetable"},{"appAlert":null,"appId":52,"appSeq":5,"appType":9,"brief":"","child":0,"color":"","configurations":null,"controller":"BannerListCtrl","controllerAs":"bm","defaultPage":4,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"","icon":"fa fa-file-image-o","imageList":null,"integrate":1,"mainJsUrl":"parts/banner/main.js","mgrVisitUrl":"/banner","mgrVisitUrlType":"ng","name":"banner管理","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"banner管理可访问","privilege":0,"sequence":1}],"pubTime":null,"reloadOnSearch":true,"removeable":0,"routeUrl":"/banner","ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"0","templateUrl":"parts/banner/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/banner"},{"appAlert":null,"appId":63,"appSeq":16,"appType":4,"brief":"","child":0,"color":"font-color2","configurations":null,"controller":"schoolCalendarCtrl","controllerAs":"","defaultPage":3,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-calendar","imageList":null,"integrate":1,"mainJsUrl":"parts/schoolCalendar/main.js","mgrVisitUrl":"/schoolCalendar","mgrVisitUrlType":null,"name":"校历","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"校历可访问","privilege":1,"sequence":1}],"pubTime":null,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/schoolCalendar/schoolCalendar.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/schoolCalendar"},{"appAlert":null,"appId":66,"appSeq":13,"appType":1,"brief":"","child":0,"color":"font-color3","configurations":[{"appId":66,"keyName":"isModifyConfig","type":1,"value":"0"}],"controller":"LostArticleFoundCtrl","controllerAs":"helpList","defaultPage":3,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-finding-lost","imageList":null,"integrate":1,"mainJsUrl":"parts/lostArticle/main.js","mgrVisitUrl":"/lost-article","mgrVisitUrlType":null,"name":"失物招领","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"失物招领可见","privilege":1,"sequence":1}],"pubTime":null,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/lostArticle/lost-article.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/lost-article"},{"appAlert":null,"appId":67,"appSeq":48,"appType":4,"brief":"","child":0,"color":"font-color2","configurations":null,"controller":"VideoCtrl","controllerAs":"vc","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-video-live","imageList":null,"integrate":1,"mainJsUrl":"parts/video/main.js","mgrVisitUrl":"/video","mgrVisitUrlType":"ng","name":"视频点播","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"视频播放可见","privilege":0,"sequence":1}],"pubTime":null,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/video/video.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/video"},{"appAlert":null,"appId":72,"appSeq":56,"appType":2,"brief":"移动校园内置应用","child":0,"color":"","configurations":null,"controller":"SuperFormMainCtrl","controllerAs":"an","defaultPage":3,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"fa fa-paint-brush","imageList":null,"integrate":1,"mainJsUrl":"parts/superForm/main.js","mgrVisitUrl":"/super_form/todo_list","mgrVisitUrlType":null,"name":"超级表单","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"超级表单可见","privilege":0,"sequence":1}],"pubTime":1415015644000,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"0","templateUrl":"parts/superForm/nav.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/super_form/todo_list"},{"appAlert":null,"appId":76,"appSeq":24,"appType":1,"brief":"","child":0,"color":"font-color3","configurations":null,"controller":"FaultRepairListCtrl","controllerAs":"rprer","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-stoppage","imageList":null,"integrate":1,"mainJsUrl":"parts/faultRepair/main.js","mgrVisitUrl":"/fault-repair","mgrVisitUrlType":null,"name":"故障报修","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"故障报修可见","privilege":1,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"是否是超级管理员","privilege":0,"sequence":4}],"pubTime":1418209397000,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/faultRepair/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/fault-repair"},{"appAlert":null,"appId":84,"appSeq":35,"appType":1,"brief":"首页显示专用","child":0,"color":"font-color4","configurations":null,"controller":"salaryCtrl","controllerAs":"","defaultPage":3,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-finance","imageList":null,"integrate":1,"mainJsUrl":"parts/finance/main.js","mgrVisitUrl":"/finance/salary","mgrVisitUrlType":null,"name":"工资财务","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"工资财务可见","privilege":0,"sequence":1}],"pubTime":1422010070000,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/finance/salary.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/finance/salary"},{"appAlert":null,"appId":85,"appSeq":20,"appType":4,"brief":"","child":0,"color":"font-color1","configurations":null,"controller":"voteCtrl","controllerAs":"vt","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-vote","imageList":null,"integrate":1,"mainJsUrl":"parts/vote/main.js","mgrVisitUrl":"/vote","mgrVisitUrlType":null,"name":"投票","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"投票可见","privilege":1,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"可发布投票","privilege":0,"sequence":2}],"pubTime":1422324832000,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":null,"templateUrl":"parts/vote/vote.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/vote"},{"appAlert":null,"appId":89,"appSeq":21,"appType":2,"brief":"","child":0,"color":"font-color3","configurations":[{"appId":89,"keyName":"isModifyConfig","type":1,"value":"0"}],"controller":"giveMeHandListMainCtrl","controllerAs":"help","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"I18N.APP_LIST.GIVE_ME_HAND","icon":"mc-icon-parents-help","imageList":null,"integrate":1,"mainJsUrl":"parts/giveMeHand/main.js","mgrVisitUrl":"/give_me_help","mgrVisitUrlType":null,"name":"学长帮帮忙","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"学长帮帮忙可见","privilege":1,"sequence":1}],"pubTime":1428565796000,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/giveMeHand/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/give_me_help"},{"appAlert":null,"appId":100,"appSeq":14,"appType":4,"brief":"","child":0,"color":"font-color3","configurations":null,"controller":"QuestionnairMainCtrl","controllerAs":"qc","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-survery","imageList":null,"integrate":1,"mainJsUrl":"parts/questionnair/main.js","mgrVisitUrl":"/newbie/assessment/answer-2","mgrVisitUrlType":null,"name":"调查问卷","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"调查问卷可见","privilege":1,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"是否可发布问卷","privilege":0,"sequence":2}],"pubTime":1431312687000,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/questionnair/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/newbie/assessment/answer-2"},{"appAlert":"","appId":106,"appSeq":3,"appType":4,"brief":"","child":0,"color":"","configurations":null,"controller":"discoverAppCtrl","controllerAs":"dso","defaultPage":2,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":"","i18n":"","icon":"","imageList":null,"integrate":1,"mainJsUrl":"parts/discover/main.js","mgrVisitUrl":"/explorer","mgrVisitUrlType":"ng","name":"发现","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"发现可见","privilege":1,"sequence":1}],"pubTime":1438828839000,"reloadOnSearch":true,"removeable":1,"routeUrl":"","ssoFlag":"","ssoKey":"","starLevel":0,"starLevelTotal":0,"supportversion":"0","templateUrl":"parts/discover/list.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/discover"},{"appAlert":"","appId":107,"appSeq":4,"appType":4,"brief":"","child":0,"color":"","configurations":null,"controller":"settingsCtrl","controllerAs":"setup","defaultPage":8,"downloadUrl":"","downloadUrlIOS":"","embedType":0,"groupName":"","i18n":"","icon":"fa fa-cog","imageList":null,"integrate":1,"mainJsUrl":"parts/settings/main.js","mgrVisitUrl":"/settings","mgrVisitUrlType":null,"name":"设置","needLogin":0,"onlyAdmin":0,"openUrlIOS":"","packageName":"","parentPage":"","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"设置可见","privilege":1,"sequence":1}],"pubTime":1438828992000,"reloadOnSearch":true,"removeable":1,"routeUrl":"","ssoFlag":"","ssoKey":"","starLevel":0,"starLevelTotal":0,"supportversion":"0","templateUrl":"parts/settings/settings.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/settings"},{"appAlert":null,"appId":109,"appSeq":33,"appType":4,"brief":null,"child":0,"color":"font-color1","configurations":null,"controller":"resultsInquiryCtrl","controllerAs":"inq","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-inquire","imageList":null,"integrate":1,"mainJsUrl":"parts/resultsInquiry/main.js","mgrVisitUrl":"/results_inquiry","mgrVisitUrlType":null,"name":"成绩查询","needLogin":1,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"成绩查询可见","privilege":1,"sequence":1}],"pubTime":null,"reloadOnSearch":true,"removeable":1,"routeUrl":null,"ssoFlag":null,"ssoKey":"0","starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/resultsInquiry/inquiry.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/results_inquiry"},{"appAlert":null,"appId":151,"appSeq":47,"appType":4,"brief":"","child":0,"color":"","configurations":null,"controller":"ConferenceListCtrl","controllerAs":"smc","defaultPage":3,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":"","i18n":"","icon":"fa fa-pencil-square-o","imageList":null,"integrate":1,"mainJsUrl":"parts/conference/main.js","mgrVisitUrl":"/conference","mgrVisitUrlType":null,"name":"会议签到","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"会议签到可见","privilege":0,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"发布会议可操作","privilege":0,"sequence":2}],"pubTime":1448260670000,"reloadOnSearch":true,"removeable":0,"routeUrl":"","ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"0","templateUrl":"parts/conference/main.html","topBarShowCloseBtn":false,"version":"2","visitUrl":"/conference"},{"appAlert":null,"appId":167,"appSeq":22,"appType":4,"brief":"","child":0,"color":"font-color4","configurations":null,"controller":"SchoolActivityListCtrl","controllerAs":"al","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-campus-activity","imageList":null,"integrate":1,"mainJsUrl":"parts/schoolActivity/main.js","mgrVisitUrl":"/schoolActivity/list","mgrVisitUrlType":null,"name":"校园活动","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"新校园活动可见","privilege":1,"sequence":1}],"pubTime":1450251475000,"reloadOnSearch":false,"removeable":0,"routeUrl":"/schoolActivity/list","ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/schoolActivity/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/schoolActivity/list"},{"appAlert":null,"appId":387,"appSeq":27,"appType":1,"brief":"用的是老版本的上下滑动模式！","child":0,"color":"font-color2","configurations":null,"controller":"SchoolSurveyCtrl","controllerAs":"ssc","defaultPage":3,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":"","i18n":"","icon":"mc-icon-brief-introduction","imageList":null,"integrate":1,"mainJsUrl":"parts/schoolSurvey/main.js","mgrVisitUrl":"/schoolSurvey","mgrVisitUrlType":"ng","name":"学校概况","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"学校概况可见","privilege":1,"sequence":1}],"pubTime":1463024986000,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/schoolSurvey/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/schoolSurvey"},{"appAlert":null,"appId":516,"appSeq":18,"appType":4,"brief":"","child":0,"color":"font-color2","configurations":null,"controller":"","controllerAs":"","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"fa fa-circle","imageList":null,"integrate":1,"mainJsUrl":"","mgrVisitUrl":null,"mgrVisitUrlType":"ng","name":"应用市场","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"应用市场可见","privilege":1,"sequence":1}],"pubTime":1469067663000,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"1","templateUrl":"","topBarShowCloseBtn":false,"version":"1","visitUrl":""},{"appAlert":null,"appId":619,"appSeq":55,"appType":1,"brief":null,"child":0,"color":null,"configurations":null,"controller":"NewArriveCtrl","controllerAs":"$ctrl","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"fa fa-user","imageList":null,"integrate":1,"mainJsUrl":"parts/newArrive/main.js","mgrVisitUrl":null,"mgrVisitUrlType":"ng","name":"迎新统计","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"教师迎新可见","privilege":0,"sequence":1}],"pubTime":1478153995000,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/newArrive/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/new_arrive/teacher"},{"appAlert":null,"appId":660,"appSeq":53,"appType":1,"brief":"新社团 2016年12月启动","child":0,"color":"font-color1","configurations":null,"controller":"NewLeagueCtrl","controllerAs":"$ctrl","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-corporation","imageList":null,"integrate":1,"mainJsUrl":"parts/newLeague/main.js","mgrVisitUrl":null,"mgrVisitUrlType":"ng","name":"社团","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"社团可见","privilege":0,"sequence":1}],"pubTime":1480646774000,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/newLeague/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/new-league"},{"appAlert":null,"appId":703,"appSeq":44,"appType":3,"brief":"针对北交点到","child":0,"color":"font-color3","configurations":null,"controller":"NewRollCallCtrl","controllerAs":"$ctrl","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-arrive","imageList":null,"integrate":1,"mainJsUrl":"parts/newRollCall/main.js","mgrVisitUrl":"/new_roll_call","mgrVisitUrlType":"ng","name":"点到","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"点到可见","privilege":0,"sequence":1}],"pubTime":1486611886000,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/newRollCall/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/new_roll_call"},{"appAlert":null,"appId":734,"appSeq":26,"appType":1,"brief":"H5G应用基础信息维护","child":0,"color":null,"configurations":null,"controller":"H5gOutingCtrl","controllerAs":"h5","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":"1","i18n":"","icon":"https://mobilecampus.oss.aliyuncs.com/default/MC_136/zsvHOscyOsELNDELNv.png","imageList":null,"integrate":1,"mainJsUrl":"parts/h5g/main.js","mgrVisitUrl":null,"mgrVisitUrlType":null,"name":"报到须知","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"报到须知可见","privilege":1,"sequence":1}],"pubTime":1454553170000,"reloadOnSearch":true,"removeable":0,"routeUrl":"/h5g/:appId/:h5gId","ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/h5g/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/h5g/734/247"},{"appAlert":null,"appId":742,"appSeq":29,"appType":1,"brief":"","child":0,"color":"font-color1","configurations":null,"controller":"","controllerAs":"","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":1,"groupName":null,"i18n":"","icon":"mc-icon-sign-and-pay","imageList":null,"integrate":2,"mainJsUrl":"","mgrVisitUrl":null,"mgrVisitUrlType":"ng","name":"报名缴费","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"报名缴费可见","privilege":1,"sequence":1}],"pubTime":1490253373000,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"","topBarShowCloseBtn":false,"version":"1","visitUrl":"kwu.jsahvc.edu.cn/webapp/LoginController/oauthLogin"},{"appAlert":null,"appId":743,"appSeq":30,"appType":1,"brief":null,"child":0,"color":"","configurations":null,"controller":null,"controllerAs":null,"defaultPage":1,"downloadUrl":"http://emobile.weaver.com.cn/android/Emobile6.5.26.apk","downloadUrlIOS":"http://itunes.apple.com/app/id1044920135","embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-oa","imageList":null,"integrate":3,"mainJsUrl":"","mgrVisitUrl":"http://itunes.apple.com/app/id1044920135","mgrVisitUrlType":"ng","name":"移动OA","needLogin":0,"onlyAdmin":0,"openUrlIOS":"emobile6://","packageName":"com.ecology.view","parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"移动OA可见","privilege":0,"sequence":1}],"pubTime":1490602845000,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":null,"templateUrl":"","topBarShowCloseBtn":false,"version":"1","visitUrl":null},{"appAlert":null,"appId":833,"appSeq":1,"appType":2,"brief":null,"child":0,"color":"font-color4","configurations":null,"controller":null,"controllerAs":null,"defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":1,"groupName":null,"i18n":"","icon":"mc-icon-campus-activity","imageList":null,"integrate":2,"mainJsUrl":"","mgrVisitUrl":null,"mgrVisitUrlType":"ng","name":"学工","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"学工可见","privilege":0,"sequence":1}],"pubTime":1494922564000,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":null,"templateUrl":"","topBarShowCloseBtn":false,"version":"1","visitUrl":"http://xgsl.jsahvc.edu.cn/mobile/login.aspx"},{"appAlert":null,"appId":839,"appSeq":41,"appType":2,"brief":null,"child":0,"color":"font-color3","configurations":null,"controller":null,"controllerAs":null,"defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":1,"groupName":null,"i18n":"","icon":"mc-icon-news","imageList":null,"integrate":2,"mainJsUrl":"","mgrVisitUrl":null,"mgrVisitUrlType":"ng","name":"学生学工","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"学生学工可见","privilege":1,"sequence":1}],"pubTime":1495091914000,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":null,"templateUrl":"","topBarShowCloseBtn":false,"version":"1","visitUrl":"http://alst.jsahvc.edu.cn/mobile/login.aspx"},{"appAlert":null,"appId":841,"appSeq":42,"appType":5,"brief":null,"child":0,"color":"font-color3","configurations":null,"controller":"PhotoWallCtrl","controllerAs":"pw","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-school-scenery","imageList":null,"integrate":1,"mainJsUrl":"parts/photoWall/main.js","mgrVisitUrl":"/PhotoWall","mgrVisitUrlType":"ng","name":"照片墙","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"照片墙可见","privilege":1,"sequence":1}],"pubTime":1495098918000,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/photoWall/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/photoWall"},{"appAlert":null,"appId":883,"appSeq":43,"appType":1,"brief":null,"child":0,"color":"font-color3","configurations":null,"controller":null,"controllerAs":null,"defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":1,"groupName":null,"i18n":"","icon":"mc-icon-flea-marke","imageList":null,"integrate":2,"mainJsUrl":"","mgrVisitUrl":"http://app.jsahvc.edu.cn/cctrade/login/login.action","mgrVisitUrlType":"frame","name":"跳蚤市场","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"跳蚤市场可见","privilege":1,"sequence":1}],"pubTime":1496717171000,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"","topBarShowCloseBtn":false,"version":"1","visitUrl":"http://app.jsahvc.edu.cn/cctrade/mobi/index.html"},{"appAlert":null,"appId":931,"appSeq":45,"appType":3,"brief":null,"child":0,"color":"font-color3","configurations":null,"controller":"NewMobileCtrl","controllerAs":"mobile","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-office-phone","imageList":null,"integrate":1,"mainJsUrl":"parts/newMobile/main.js","mgrVisitUrl":null,"mgrVisitUrlType":"ng","name":"校园黄页","needLogin":1,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"校园黄页可见","privilege":1,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"组织电话可见","privilege":1,"sequence":2}],"pubTime":1498544598000,"reloadOnSearch":false,"removeable":0,"routeUrl":"","ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/newMobile/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/mobile"},{"appAlert":null,"appId":940,"appSeq":46,"appType":1,"brief":null,"child":0,"color":"font-color4","configurations":null,"controller":null,"controllerAs":null,"defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":1,"groupName":null,"i18n":"","icon":"mc-icon-dining","imageList":null,"integrate":2,"mainJsUrl":"","mgrVisitUrl":"http://app.jsahvc.edu.cn/ltdingcan/login/login.action","mgrVisitUrlType":"frame","name":"网上订餐","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"网上订餐可见","privilege":1,"sequence":1}],"pubTime":1499656537000,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"","topBarShowCloseBtn":false,"version":"1","visitUrl":"http://app.jsahvc.edu.cn/ltdingcan/mobi/index.html"},{"appAlert":null,"appId":961,"appSeq":49,"appType":2,"brief":null,"child":0,"color":"font-color3","configurations":null,"controller":null,"controllerAs":null,"defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":1,"groupName":null,"i18n":"","icon":"mc-icon-hrb-book","imageList":null,"integrate":2,"mainJsUrl":"","mgrVisitUrl":null,"mgrVisitUrlType":"ng","name":"网络教学","needLogin":1,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"网络教学可见","privilege":1,"sequence":1}],"pubTime":1500362718000,"reloadOnSearch":true,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"0","templateUrl":"","topBarShowCloseBtn":true,"version":"1","visitUrl":"http://jxzy.jsahvc.edu.cn/suite/weChat/jsNMApp.do"},{"appAlert":null,"appId":962,"appSeq":50,"appType":4,"brief":null,"child":0,"color":"font-color4","configurations":null,"controller":"BigDataCtrl","controllerAs":"bd","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-registration","imageList":null,"integrate":1,"mainJsUrl":"parts/bigData/main.js","mgrVisitUrl":null,"mgrVisitUrlType":"ng","name":"个人画像","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"个人画像可见","privilege":1,"sequence":1}],"pubTime":1500430227000,"reloadOnSearch":false,"removeable":0,"routeUrl":null,"ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/bigData/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/bigData"},{"appAlert":null,"appId":968,"appSeq":51,"appType":4,"brief":null,"child":0,"color":"font-color4","configurations":null,"controller":"workRollCallCtrl","controllerAs":"$wrc","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":null,"i18n":"","icon":"mc-icon-note-check","imageList":null,"integrate":1,"mainJsUrl":"parts/workRollCall/main.js","mgrVisitUrl":"/workRollCall","mgrVisitUrlType":"ng","name":"值班签到","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":"","privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"值班签到可见","privilege":0,"sequence":1},{"appId":0,"child":null,"hidden":0,"id":0,"name":"值班签到管理员","privilege":0,"sequence":2}],"pubTime":1501134926000,"reloadOnSearch":false,"removeable":0,"routeUrl":"/workRollCall","ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"","templateUrl":"parts/workRollCall/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/workRollCall"},{"appAlert":null,"appId":975,"appSeq":58,"appType":1,"brief":"H5G应用基础信息维护!\n若非清楚, 请勿调整字段值.~","child":0,"color":null,"configurations":null,"controller":"H5gOutingCtrl","controllerAs":"h5","defaultPage":1,"downloadUrl":null,"downloadUrlIOS":null,"embedType":0,"groupName":"1","i18n":"","icon":"im-icon-house -icon-color-1","imageList":null,"integrate":1,"mainJsUrl":"parts/h5g/main.js","mgrVisitUrl":null,"mgrVisitUrlType":null,"name":"审批大厅","needLogin":0,"onlyAdmin":0,"openUrlIOS":null,"packageName":null,"parentPage":"home","pic":null,"privilege":null,"privilegeList":[{"appId":0,"child":null,"hidden":0,"id":0,"name":"审批大厅可见","privilege":1,"sequence":1}],"pubTime":1454553170000,"reloadOnSearch":true,"removeable":0,"routeUrl":"/h5g/:appId/:h5gId","ssoFlag":null,"ssoKey":null,"starLevel":0,"starLevelTotal":0,"supportversion":"0.0.1","templateUrl":"parts/h5g/main.html","topBarShowCloseBtn":false,"version":"1","visitUrl":"/h5g/975/312"}],"campusTvUserInfo":null,"curSchoolId":0,"divisionInfo":{"latitude":119.945401,"longitude":32.462686},"infoId":0,"isBindCampus":0,"isConfirm":0,"mail":0,"mobile":null,"msg":"登录成功","msgPublishTags":[],"msgReadTags":["16121304"],"msgState":1,"ownForumFlag":false,"schoolInfo":{"schoolId":194,"schoolName":"江苏农牧科技职业学院","shortName":"JSAHVC"},"secure":0,"tel":0,"time":0,"token":["1002890","hNJcbGFMjLlk3cXizcAOysA5z83Ozt3T3myQbGOlZ2qJZC363c3PzsrPxsANzsEi0CJcdoJsn2eQb2OJZC36zskL0CJkaoZpj2lQbklk3cXP0CJlbWFpbC363c3PzsrOzMALzL-Vj2FXdmzRZWuK0myR3iPiZYJQbt36zCPiaW5mbLlk3cXP0CJpjLyQbmZpjmLixcAT3mOQZ2lRqGlSZt36zsrPy8kKz8rLxsrLyCPibmlcaL5ebWrixi3i0CJPaG9RZt363i3T3Y-pZC363czNz8kNy8E5xsjPy8E2zckOWC3T3YJlnWOxnWKl3cXi6Zm35H6J5aW43iPijm9TZt36xCPid4Zqj2qNtWvixcAT3YqRaovixi3Nz8EKz8kPzcEO3iPidoyljklk3cXOxsvOzsn2ytPidoyljk5ebWrixi3Nz8EKzszPy8zi0CJIh4qMZoJpZC363c3PzsrOzMALzNJ9"],"tvAppInfoList":null,"tvToken":null,"userBaseInfo":{"admitNumber":null,"brithday":null,"campus":null,"childName":null,"cityId":0,"classId":"2015090211","classStr":null,"college":"0","collegeName":"农业工程系","deleted":null,"depart":null,"divisionId":0,"domainId":0,"domainName":"","dqztm":1,"endValue":null,"exp":0,"fullImage":"","grade":null,"headImage":"","inviteCode":null,"jg":null,"majorId":"0902","mobile":"18888888888","mobileList":[],"mobileSecret":1,"mzmc":"汉族","nickName":"","officeId":0,"officeName":"","parentName":null,"publishDomain":1,"publishOffice":1,"qq":"","realName":"陈玉奇","rfid":null,"role":8,"roleLevel":0,"schoolId":194,"sex":1,"startValue":null,"summary":"","sznj":"2015","tel":"","toNextLevel":0,"userId":19411665,"vipLevel":0,"vipLevelName":null,"xqah":null,"zymc":""},"userLoginInfo":{"mail":"201513043@jsahvc.edu.cn","parentUserName":null,"phone":"","pid":"32092419970416291X","regFrom":"信息中心","schoolCard":null,"securityPassword":null,"sex":1,"tokenValue":null,"userId":19411665,"userName":"201513043","wxUserId":null},"uuId":"fbd4e14aa6bd7a7d","uuidIv":null,"uuidKey":null}

    }

    void manager() {
        String url = "http://app.jsahvc.edu.cn/baseCampus/manager/reportUserAction.do";
        String data = "{\"appKey\":\"GiITvn\",\"param\":\"{\\\"appVersion\\\":\\\"1.0.1\\\",\\\"uuid\\\":\\\"fbd4e14aa6bd7a7d\\\",\\\"userId\\\":\\\"19411665\\\",\\\"userActionList\\\":[{\\\"startTime\\\":1504950564955,\\\"appFlag\\\":\\\"/login\\\",\\\"appId\\\":40}],\\\"deviceInfo\\\":{\\\"model\\\":\\\"mi 5\\\",\\\"version\\\":\\\"5.1.1\\\",\\\"platform\\\":\\\"Android\\\",\\\"distribute\\\":\\\"enterprise\\\"}}\",\"time\":1504950565037,\"secure\":0,\"sign\":\"f60c33a6722c5a8967d66ae91242908d\"}";
        String RequestHeader = "token: 312151700_ey2ck5FMjLlb3cXdzcAONsAGz83OzS3T3ZNQk5OlmJq2m9363c3PzsrPxsAyzs7d092cio2snJhQkJO2m936zsbL092baomWjJlQkblb3cXP092lkpFWk9363c3PzsrOzMALzLBVjJFXiZzRmpuK0ZNR3dPdmY2QkS36z9PdapGZkLlb3cXP092WjLNQkZmWjZLdxcAT3ZOQmJlRq5ltmS36zsrPN8bKz8rLxsrLN9PdkZlcaLGhkprdxd3d092Pa5CRmS363d3T3YBWm9363czyz8byN87GxsjPN87JzcbOp93T3Y2lnpOxnpKl3cXd6mZ3GH62Gap43dPdjZCTmS36x9Pdi4mqjJqySpvdxcAT3YqRaovdxd3yz87Kz8bPzc7O3dPdioNljblb3cXOxsvOzsnJNSPdioNljbGhkprdxd3yz87KzszPN8zd092Ie4qMmo2Wm9363c3PzsrOzMALzy2C\n" +
                "Content-Type: application/json;charset=UTF-8\n";
        //Sign算法
        // appKey=GiITvn&param={"appVersion":"1.0.1","uuid":"fbd4e14aa6bd7a7d","userId":"19411665","userActionList":[{"startTime":1504950564955,"appFlag":"/login","appId":40}],"deviceInfo":{"model":"mi 5","version":"5.1.1","platform":"Android","distribute":"enterprise"}}&secure=0&time=1504950565037
        //ret:{"acceptSecure":null,"curSchoolId":0,"msg":null,"msgState":1,"secure":0,"time":0}
    }

    public loginRes getUserInfo(){
        String url="http://app.jsahvc.edu.cn/baseCampus/user/getUserInfo.do";
        String requestHeader="token: "+token+"\n" +
                "Content-Type: application/json;charset=UTF-8\n";
        String currentMillis=System.currentTimeMillis()+"";
        String data="{\"appKey\":\""+appKey+"\",\"param\":\"{\\\"userId\\\":"+loginRes.userBaseInfo.userId+",\\\"parentUserName\\\":null}\",\"time\":"+currentMillis+",\"secure\":0,\"sign\":\""+utils.md5("appKey="+appKey+"&param={\"userId\":"+loginRes.userBaseInfo.userId+",\"parentUserName\":null}&secure=0&time="+currentMillis)+"\"}";
        //{"acceptSecure":null,"curSchoolId":0,"msg":null,"msgState":1,"secure":0,"time":0,"userBaseInfo":{"admitNumber":null,"brithday":null,"campus":null,"childName":null,"cityId":0,"classId":"","classStr":"农业工程系","college":"0","collegeName":"农业工程系","deleted":0,"depart":null,"divisionId":0,"domainId":0,"domainName":"","dqztm":1,"endValue":"500","exp":0,"fullImage":"","grade":null,"headImage":"","inviteCode":null,"jg":null,"majorId":"0902","mobile":"18888888888","mobileList":[],"mobileSecret":2,"mzmc":"汉族","nickName":"","officeId":0,"officeName":"","parentName":null,"publishDomain":1,"publishOffice":1,"qq":"","realName":"陈玉奇","rfid":null,"role":8,"roleLevel":0,"schoolId":194,"sex":1,"startValue":"101","summary":"","sznj":"","tel":"","toNextLevel":70,"userId":19411665,"vipLevel":430,"vipLevelName":"2","xqah":null,"zymc":""},"userLoginInfo":{"mail":"201513043@jsahvc.edu.cn","parentUserName":"201513043","phone":null,"pid":null,"regFrom":"信息中心","schoolCard":null,"securityPassword":null,"sex":1,"tokenValue":null,"userId":19411665,"userName":"201513043","wxUserId":null}}
        ResponseData res=null;
        try {
             res=httpClient.Request(url,1,data,"",requestHeader,10000,10000,false);
        } catch (IOException e) {
            e.printStackTrace();
        }
        if(res==null){
            return null;
        }
        com.qiuchenly.stuclient.Basic.API.HttpResponseUtils.loginRes ret=resolveJson(res.responseText,loginRes.class);
        return ret;
    }


    void getNewVersions() {
        String url = "http://app.jsahvc.edu.cn/managerCampus/version/latestVersion.do";
        String RequestHeader = "token: 1002890_hNJcbGFMjLlk3cXizcAOysA5z83Ozt3T3myQbGOlZ2qJZC363c3PzsrPxsANzsEi0CJcdoJsn2eQb2OJZC36zskL0CJkaoZpj2lQbklk3cXP0CJlbWFpbC363c3PzsrOzMALzL-Vj2FXdmzRZWuK0myR3iPiZYJQbt36zCPiaW5mbLlk3cXP0CJpjLyQbmZpjmLixcAT3mOQZ2lRqGlSZt36zsrPy8kKz8rLxsrLyCPibmlcaL5ebWrixi3i0CJPaG9RZt363i3T3Y-pZC363czNz8kNy8E5xsjPy8E2zckOWC3T3YJlnWOxnWKl3cXi6Zm35H6J5aW43iPijm9TZt36xCPid4Zqj2qNtWvixcAT3YqRaovixi3Nz8EKz8kPzcEO3iPidoyljklk3cXOxsvOzsn2ytPidoyljk5ebWrixi3Nz8EKzszPy8zi0CJIh4qMZoJpZC363c3PzsrOzMALzNJ9\n" +
                "Content-Type: application/json;charset=UTF-8\n";
        String data = "{\"appKey\":\"GiITvn\",\"param\":\"{\\\"platform\\\":2,\\\"state\\\":2}\",\"time\":1504950565041,\"secure\":0,\"sign\":\"e2d5762e5dd8d858a77f5b4f925b1361\"}";

        //Sign加密
        //appKey=GiITvn&param={"platform":2,"state":2}&secure=0&time=1504950565041


        //retInfo
//        {"acceptSecure":null,"curSchoolId":0,"msg":null,"msgState":1,"secure":0,"time":0,"versionInfo":{"alertContent":"+修复超级表单链接错误","appVersionId":15,"appleState":2,"auditor":"肖肖","creater":"肖肖","date":1504854811000,"downloadUrl":"http://app.jsahvc.edu.cn","isAlert":1,"isNotice":0,"md5":"d1e25090f36462cdb4e8b0ff41046847","mustSilent":0,"mustUpdate":0,"noticeContent":null,"platform":2,"publisher":"肖肖","srcHotUrl":"yun/lantu/jsahvc_1.0.1-73651_1504854810.zip","state":2,"type":2,"version":"1.0.1","versionH5":"73651"}}
    }

    void getNoReadMessageList() {
        String url = "http://app.jsahvc.edu.cn/newsCampus/message/getNoReadMessageNum.do ";
        String data = "{\"appKey\":\"GiITvn\",\"param\":\"{}\",\"time\":1504950565051,\"secure\":0,\"sign\":\"3ad46f93dd085410ba8a275a4feb5662\"}";
        //Sign = appKey=GiITvn&param={}&secure=0&time=1504950565051
        //Head同上
//        ret：{"acceptSecure":null,"curSchoolId":0,"messageList":[],"msg":null,"msgState":1,"num":0,"secure":0,"time":0}
    }


    private <T> T resolveJson(String str, Class<T> classs) {
        Gson g = new Gson();
        return g.fromJson(str, classs);
    }

    /**
     * sign加密算法
     *
     * @param currentMillis 13位时间戳
     * @param user          用户名
     * @param pass          密码
     * @return 返回加密后的数据
     */
    private String getSign(String currentMillis, String user, String pass) {
        String URL = "appKey=" + appKey + "&param=" +
                "{\"userName\":\"" + user + "\",\"password\":\"" + pass + "\",\"" +
                "uuId\":\"" + UUID + "\",\"schoolId\":\"" + schoolId + "\"" +
                "}&secure=0&time=" + currentMillis;
        return utils.md5(URL);
    }

    /**
     * 发送短信时的Sign加密
     *
     * @param phoneNum 手机号码
     * @param times    时间戳
     * @param userID   用户ID
     * @return 返回加密后的Sign
     */
    private String getSign_SendMsg(String phoneNum, String times, String userID) {
        String u = "appKey=GiITvn&param={\"min\":5,\"identification\":2,\"userName\":\"" + userID + "\"," +
                "\"mobile\":\"" + phoneNum + "\",\"schoolId\":" + schoolId + "}&secure=0&time=" + times;
        return utils.md5(u);
    }

    public void getNews() {
        String currentTime = String.valueOf(System.currentTimeMillis());
        String url = "http://app.jsahvc.edu.cn/baseCampus/discovery/list.do";

        //get Sign Value
        String sign = "appKey=" + appKey + "&param={\"offset\":1}&secure=0&time=" + currentTime;

        String data = "{\"appKey\":\"GiITvn\",\"param\":\"{\\\"offset\\\":1}\",\"time\":" + currentTime + ",\"secure\":0,\"sign\":\"" + utils.md5(sign) + "\"}";


    }
}
